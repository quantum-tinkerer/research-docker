name: python3
channels:
  - conda-forge
dependencies:
  # general numerics (version pinned)
  - python=3.10*
  - numpy=1.21*
  - scipy=1.8*
  - kwant>=1.4.3
  - cython=0.29*
  - libblas=*=*mkl
  # numerics, not version-pinned (less mission-critical)
  - pfapack
  - adaptive
  - xarray
  - sympy
  - sparse
  # plotting and serialization
  - deepdish
  - matplotlib-base=3.5*
  - holoviews=1.14*
  - panel=0.13*  # Needed for https://github.com/holoviz/panel/pull/3258
  - plotly>=5.0
  - ipympl  # interactive plotting in jupyterlab
  # parallell computing
  - zarr
  - h5py
  - pytables
  - distributed
  - dask_labextension
  - hpc05
  - ipyparallel
  # jupyter tools and extensions
  - ipython>=8
  - jupyterhub>=2.0.0
  - jupyterlab<4.0,>=3.3.0
  - retrolab
  - jupyterlab-link-share
  - jupyter-server-proxy
  - jupyter-vscode-proxy
  - jupytext
  - jupyterlab-git
  - jupyterlab_code_formatter
  - jupyterlab_latex
  - jupyter_bokeh
  #- jupyterlab-lsp
  #- python-lsp-server
  # - nbgitpuller  # Uncomment when https://github.com/jupyterhub/nbgitpuller/pull/240 is released
  - pyviz_comms
  - line_profiler
  - jupyterlab-system-monitor
  - nbdime
  - nbstripout
  - mistune
  - nbresuse
  # other
  - adaptive-scheduler
  - jax
  - black
  - boost
  - code-server
  - emcee
  - feedparser
  - ffmpeg
  - git
  - numba
  - pandas
  - pandoc
  - pip
  - pytest-flakes
  - python-graphviz
  - ruamel.yaml
  - scikit-image
  - shapely
  - tqdm
  - xlrd
  - ffmpeg
  - git
  # Ensure that these packages do not get removed by python upgrade
  - conda
  - mamba
  - tini=0.18*
  # Reenable once https://github.com/conda-forge/dask-gateway-feedstock/pull/23 and other are merged
  # - dask-gateway~=0.9
  - pip:
    - memory_profiler
    - stim
    # Remove when https://github.com/jupyterhub/nbgitpuller/pull/240 is released
    - git+https://github.com/manics/nbgitpuller.git@jupyter-server
    - git+https://github.com/basnijholt/adaptive-tools
    - git+https://gitlab.kwant-project.org/qt/dask-quantumtinkerer.git
    - git+https://gitlab.kwant-project.org/asantosnet/Poisson_Solver.git
    - python-gitlab
    - opencv-python-headless
    - dask-gateway~=2022.04

